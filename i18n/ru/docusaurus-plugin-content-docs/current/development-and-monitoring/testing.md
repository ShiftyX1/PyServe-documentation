---
sidebar_position: 2
---

# Тестирование

Узнайте, как тестировать конфигурации и компоненты PyServe

## Обзор тестирования

PyServe включает встроенный фреймворк тестирования, который позволяет проверить вашу конфигурацию и убедиться, что сервер настроен правильно. Это особенно полезно при развертывании в новых средах или внесении изменений в конфигурацию.

:::info Ключевые преимущества
Выявляйте ошибки конфигурации заранее, проверяйте настройки сервера и убеждайтесь в существовании директорий.
:::

## Типы тестов

PyServe поддерживает несколько типов тестов, которые можно запускать по отдельности или все сразу:

### Тест конфигурации

Тестирует файл конфигурации, чтобы убедиться, что он содержит все необходимые настройки и правильно отформатирован.

### Тест директорий

Проверяет, что статические директории и директории шаблонов существуют и доступны.

### Все тесты

Запускает все доступные тесты последовательно.

## Запуск тестов

Тесты можно запустить с помощью опции командной строки `--test`:

### Тестирование всех компонентов

```bash
python run.py --test all
```

### Тестирование только конфигурации

```bash
python run.py --test configuration
```

### Тестирование только директорий

```bash
python run.py --test directories
```

Вы также можете указать пользовательский файл конфигурации для тестирования:

```bash
python run.py --test all -c ./my_config.yaml
```

## Результаты тестов

Тесты производят как консольный вывод, так и коды выхода, которые можно использовать в скриптах и автоматизированных рабочих процессах.

### Консольный вывод

Тесты производят подробный вывод в консоли, указывая, какие тесты прошли, а какие провалились:

```
=== Тестирование загрузки конфигурации ===
✅ Конфигурация загружена успешно

=== Тестирование содержимого конфигурации ===
✅ Конфигурация сервера: OK
✅ HTTP конфигурация: OK
✅ Конфигурация логирования: OK
✅ Перенаправления: OK
✅ Конфигурация обратного прокси: OK

✅ Все тесты конфигурации прошли

=== Тестирование статических директорий ===
✅ Статическая директория существует: /path/to/static
✅ Директория шаблонов существует: /path/to/templates
```

### Коды выхода

Тесты возвращают различные коды выхода в зависимости от результатов тестов, которые можно использовать в скриптах для определения успешности прохождения тестов:

| Код выхода | Значение | Описание |
|------------|----------|----------|
| `0` | Успех | Все тесты прошли успешно |
| `1` | Неудача дополнительного теста | Обязательные тесты прошли, но дополнительные провалились |
| `2` | Критическая неудача теста | Обяз